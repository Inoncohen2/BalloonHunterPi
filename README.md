
# BalloonHunterPi

🚀 **BalloonHunterPi** הוא פרויקט מערכת אוטונומית לזיהוי, מעקב ויירוט בלונים בזמן אמת, המיועד להדגמה ולמידה של עיבוד תמונה, בינה מלאכותית ובקרת תנועה.
![זיהוי ויירוט הבלון](images/Balloon_detection.gif)
## 
תוכן עניינים
- [אודות](#אודות)
- [תכונות](#תכונות)
- [מטרות הפרויקט](#מטרות-הפרויקט)
- [דרישות חומרה ותוכנה](#דרישות-חומרה-ותוכנה)
- [איך זה עובד?](#איך-זה-עובד)
- [שלבי התקנה והפעלה](#שלבי-התקנה-והפעלה)
- [אימון מודל מותאם אישית](#אימון-מודל-מותאם-אישית)
- [שיפורים עתידיים](#שיפורים-עתידיים)
- [הדגמה ויזואלית](#הדגמה-ויזואלית)
- [סרטון הדגמה](#סרטון-הדגמה)
- [תודות](#תודות)

---

## אודות
**BalloonHunterPi** היא מערכת חכמה, ניידת ואוטונומית, המבוססת על פלטפורמת Raspberry Pi ומשלבת טכנולוגיות עיבוד תמונה ובינה מלאכותית לצורך זיהוי, מעקב ויירוט של בלונים בזמן אמת.

**תמונה כללית של המערכת** – [כאן יש להוסיף תמונה שמציגה את המערכת כולה, כולל ה-Raspberry Pi, המצלמה, המנועים וסמן הלייזר].

## תכונות
- **זיהוי בזמן אמת** - המערכת משתמשת במודל TensorFlow Lite מותאם לזיהוי בלונים.
- **מעקב אוטומטי** - כיוון סמן הלייזר בהתאם לתנועת הבלון.
- **מנגנון בטיחות** - כיבוי אוטומטי של הלייזר כשהבלון יוצא מטווח הזיהוי.
- **תמיכה ב-Raspberry Pi** - מערכת עצמאית בעלות נמוכה.

## מטרות הפרויקט
הפרויקט נועד לפתח מערכת אוטונומית שמסוגלת:
1. **לזהות בלונים בתנועה** ולהעריך את מיקומם.
2. **לעקוב אחרי בלונים** ולכוון לייזר אליהם בצורה מדויקת.
3. **לעבוד בזמן אמת** על Raspberry Pi תוך שימוש בעיבוד תמונה.

---

## דרישות חומרה ותוכנה
### חומרה
1. **Raspberry Pi 4 Model B**
2. **מצלמת USB (2K)**
3. **מנועי סרוו (MG995)** – שניים לטווח תנועה של 180 מעלות.
4. **סמן לייזר**
5. **ספק כוח חיצוני (5V, 3A)**
6. **גימבל** – לייצוב המצלמה והלייזר.
7. **כבלים ומחברים** לחיבור הרכיבים.
8. **מסך, מקלדת ועכבר** להגדרות הראשוניות.

**תרשים חיבורים של החומרה** – [כאן יש להוסיף תרשים שמראה את החיבורים של כל רכיב ל-Raspberry Pi, כולל GPIO, מצלמה, מנועי סרוו וספק כוח].

### תוכנה
- **מערכת הפעלה**: Raspbian.
- **שפת תכנות**: Python 3.7.
- **ספריות Python**:
  - TensorFlow Lite
  - OpenCV
  - RPi.GPIO
  - Numpy
  - time
  - collections.deque

---

## איך זה עובד?
1. **מודול קליטת וידאו**: מצלמת USB ברזולוציה גבוהה מחוברת ל-Raspberry Pi ומעבירה וידאו בזמן אמת.
2. **זיהוי ועיבוד תמונה**: זיהוי בלון, חישוב מיקומו והערכת המרחק באמצעות TensorFlow Lite ו-OpenCV.
3. **בקרת תנועה מדויקת**: מנועי סרוו מכוונים את סמן הלייזר בהתאם לתנועת הבלון. 

---

## שלבי התקנה והפעלה

### שלב א: התקנת מערכת ההפעלה והגדרת הסביבה

1. **התקנת מערכת ההפעלה Raspbian**:
   - הורד את מערכת ההפעלה Raspbian וצרוב את הקובץ על כרטיס SD באמצעות [Balena Etcher](https://www.balena.io/etcher/).
   - הכנס את כרטיס הזיכרון ל-Raspberry Pi וחבר מסך, מקלדת ועכבר.
   - חבר את Raspberry Pi לחשמל והמתן לעליית מערכת ההפעלה.

2. **הגדרת Raspberry Pi**:
   - ודא שה-Raspberry Pi מחובר למסך, מקלדת ועכבר לצורך המשך ההגדרה.

3. **עדכון מערכת ההפעלה והתקנת תוכנות בסיסיות**:
   - פתח את הטרמינל והרץ את הפקודות הבאות כדי לעדכן את המערכת:
     ```bash
     sudo apt-get update
     sudo apt-get dist-upgrade
     ```

4. **הפעלת מצלמת ה-USB**:
   - אפשר את המצלמה דרך `Preferences > Raspberry Pi Configuration > Interfaces > Camera`.
   - אתחל מחדש את המערכת.

**תמונת מסך הגדרות מצלמה** – [כאן יש להוסיף צילום מסך שמראה את ההגדרות להפעלת המצלמה].

### שלב ב: הורדת המודל והגדרת סביבה וירטואלית

1. **הורדת הקוד מ-GitHub**:
   - פתח את הטרמינל והורד את קוד הפרויקט:
     ```bash
     git clone https://github.com/Inoncohen2/TensorFlow-Lite-Balloon-Detection-on-Raspberry-Pi.git
     mv TensorFlow-Lite-Balloon-Detection-on-Raspberry-Pi Balloon_Detection
     cd Balloon_Detection
     ```

2. **התקנת Virtualenv והגדרת סביבה וירטואלית**:
   - התקן את Virtualenv וצור סביבה וירטואלית לפרויקט:
     ```bash
     sudo pip3 install virtualenv
     python3 -m venv balloon_env
     source balloon_env/bin/activate
     ```

3. **התקנת התלויות**:
   - השתמש בסקריפט הבא להתקנת כל הספריות הדרושות:
     ```bash
     bash get_pi_requirements.sh
     ```

---

### שלב ג: בדיקת הפעלת מודל SSD Lite MobileNet

1. **הרצת בדיקה ראשונית למודל ולמצלמה**:
   - בדוק את חיבור המצלמה ואת יכולת הזיהוי באמצעות הפקודה הבאה:
     ```bash
     python3 object_detection_webcam.py
     ```
   - וודא שהמערכת מזהה אובייקטים שונים בזמן אמת ומציגה אותם כראוי.

**תמונה של זיהוי בלונים בזמן אמת** – [כאן יש להוסיף תמונה של המסך המציגה בלון מזוהה בזמן אמת].

### שלב ד: אימון מודל מותאם אישית לזיהוי בלונים ב-Google Colab

אם נדרש אימון מודל מותאם אישית לזיהוי בלונים, יש לבצע את השלבים הבאים ב-Google Colab:

1. **איסוף תמונות בלונים** – אסוף תמונות בלונים במגוון זוויות, תאורות וצבעים.

2. **תיוג התמונות** – תייג את התמונות ידנית באמצעות כלי כמו LabelImg.

3. **העלאת הנתונים ל-Google Drive** – העלה את התמונות המתויגות ל-Google Drive לשימוש ב-Colab.

4. **התקנת TensorFlow Object Detection API** – התקן את TensorFlow Object Detection API ב-Colab.

5. **עיבוד הנתונים לפורמט TFRecord** – המר את הנתונים לפורמט TFRecord לצורך האימון.

6. **אימון המודל באמצעות SSD MobileNet V2** – בצע את האימון ושמור את התוצאות.

7. **בדיקת המודל** – בצע בדיקה ראשונית על תמונות חדשות כדי לוודא דיוק.

8. **ייצוא המודל לפורמט TensorFlow Lite** – המיר את המודל לפורמט TensorFlow Lite ושמור את הקבצים detect.tflite ו-labelmap.txt.

9. **העתקת המודל ל-Raspberry Pi** – העבר את הקבצים detect.tflite ו-labelmap.txt לתיקיית `Balloon_TFLite_model` שבתיקיית הפרויקט.

**גרפי תוצאות האימון (Total Loss, Localization Loss, Learning Rate)** – [כאן יש להוסיף גרפים מתהליך האימון כדי להמחיש את הירידה בשגיאות והתקדמות המודל לאורך שלבי האימון].

---

### שלב ה: הרצת המודל המאומן

1. **הפעלת הסביבה הווירטואלית**:
   - ודא שאתה בתיקיית הפרויקט והפעל את הסביבה הווירטואלית באמצעות הפקודות הבאות:
     ```bash
     cd Balloon_Detection
     source balloon_env/bin/activate
     ```

2. **הרצת הקובץ הראשי BallonHunterPi.py**:
   - הרץ את הקובץ הראשי לצורך זיהוי ומעקב בזמן אמת אחר הבלונים:
     ```bash
     python3 BallonHunterPi.py
     ```

3. **ביצוע בדיקות סופיות**:
   - וודא שהמערכת מזהה ועוקבת אחר בלונים בתנאי תאורה ומרחק שונים.
   - בדוק את מהירות התגובה של המערכת בהתאם למיקום הבלון.
   - וודא כי מנגנון הבטיחות מכבה את סמן הלייזר כאשר אין זיהוי של בלון בפריים.

**תמונת זיהוי מוצלח של בלונים בסביבה שונה** – [כאן יש להוסיף תמונה המציגה את המערכת מזהה בלונים בצבעים, גדלים ומרחקים שונים, להמחשת הדיוק והגמישות של המערכת].

**תמונה שממחישה את מנגנון הבטיחות** – [כאן יש להוסיף תמונה המדגימה איך הלייזר כבה כאשר הבלון יוצא מטווח הזיהוי].

---

## שיפורים עתידיים
- **הוספת Google Coral USB Accelerator** – לשיפור ביצועים והפחתת זמני עיבוד.
- **שדרוג למודל YOLO** – זיהוי מהיר ומדויק יותר בתנאים משתנים.
- **שדרוג מנועי סרוו** – להשגת מעקב מהיר ויציב יותר.

---

## הדגמה ויזואלית
**תמונות של המערכת בפעולה**:
1. **תצוגה כללית של המערכת** – [כאן להוסיף תמונה].
2. **זיהוי בלונים במצב פעולה** – [כאן להוסיף תמונה].
3. **מעקב עם סמן הלייזר** – [כאן להוסיף תמונה].

---

## סרטון הדגמה
**צפו במערכת בפעולה בסרטון הדגמה**:  
[YouTube - סרטון הדגמה של המערכת](https://www.youtube.com/watch?v=5LWp6doJ_do)

---

## תודות
תודה לכל מי שסייע בפרויקט, כולל המנחה שלי וחברים ללימודים שתמכו לאורך הדרך.

